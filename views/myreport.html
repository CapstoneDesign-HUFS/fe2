<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>내 걸음 리포트</title>
  <link rel="stylesheet" href="../css/myreport.css" />
</head>
<body data-page="report">
  <div class="container">
    <h2 class="page-title">내 걸음 리포트</h2>

    <div class="section-title">주간 이동현황</div>
    <div class="chart-box">
      <canvas id="weeklyChart"></canvas>
    </div>

    <div class="section-title">평균 보행속도 추이</div>
    <div class="chart-box">
      <canvas id="trendChart"></canvas>
    </div>
  </div>

  <!-- 하단 네비게이션 -->
  <div id="footer"></div>

  <!-- 스크립트 -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="../js/include.js"></script>

  <script>
    // 주간 이동거리/시간 바차트
    const ctx1 = document.getElementById('weeklyChart').getContext('2d');
    new Chart(ctx1, {
      type: 'bar',
      data: {
        labels: ['Sat', 'Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri'],
        datasets: [
          {
            label: '이동거리',
            data: [450, 280, 150, 470, 300, 180, 320],
            backgroundColor: '#3450db'
          },
          {
            label: '이동시간',
            data: [120, 240, 100, 310, 230, 90, 260],
            backgroundColor: '#73e0a9'
          }
        ]
      },
      options: {
        responsive: true,
        plugins: { legend: { display: true } },
        scales: {
          y: { beginAtZero: true }
        }
      }
    });

    // 월별 평균속도 선차트
    const ctx2 = document.getElementById('trendChart').getContext('2d');
    new Chart(ctx2, {
      type: 'line',
      data: {
        labels: ['Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec', 'Jan'],
        datasets: [
          {
            label: '평균속도',
            data: [1.15, 1.22, 1.34, 1.45, 1.25, 1.37, 1.42],
            borderColor: '#3450db',
            backgroundColor: 'rgba(100, 149, 237, 0.1)',
            fill: true,
            tension: 0.4,
            pointRadius: 3
          }
        ]
      },
      options: {
        responsive: true,
        plugins: { legend: { display: false } },
        scales: {
          y: {
            min: 0,
            suggestedMax: 1.6,
            ticks: {
              stepSize: 0.2
            }
          }
        }
      }
    });
  </script>
</body>
</html>
